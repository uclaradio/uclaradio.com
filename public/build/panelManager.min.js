webpackJsonp([3],{0:function(e,t,a){"use strict";var n=a(1),i=a(158),r={managerInfo:"/panel/manager/api/info",managerUpdate:"/panel/manager/api/update",allShows:"/panel/api/allshows",showLink:"/panel/show",listAccounts:"/panel/manager/api/listAccounts",verifyAccount:"/panel/manager/api/verify",delete:"/panel/manager/api/delete",deleteUnverified:"/panel/manager/api/deleteUnverified"},s=a(521),l=a(517),o=a(518),c=a(519),u=a(522),p=a(239).Grid,d=a(239).Row,h=a(239).Col,m=a(239).Well,f=a(239).Panel,g=n.createClass({displayName:"ManagerPage",render:function(){return n.createElement("div",{className:"managerPage"},n.createElement(p,null,n.createElement(l,null),n.createElement(d,null,n.createElement(h,{xs:12,md:6},n.createElement(m,null,n.createElement(v,{urls:this.props.urls})),n.createElement(b,{urls:this.props.urls})),n.createElement(h,{xs:12,md:6},n.createElement(N,{urls:this.props.urls})))))}}),v=n.createClass({displayName:"Manager",getInitialState:function(){return{manager:{},positionVerified:!1,publicVerified:!1,meetingTimeVerified:!1,meetingLocationVerified:!1,emailVerified:!1,departmentInfoVerified:!1}},loadDataFromServer:function(){$.ajax({url:this.props.urls.managerInfo,dataType:"json",type:"POST",success:function(e){this.setState({manager:e})}.bind(this),error:function(e,t,a){console.error(this.props.urls.managerInfo,t,a.toString())}.bind(this)})},handleManagerInfoSubmit:function(e,t){var a=this.state.manager;this.setState({manager:e});var n={manager:JSON.stringify(e)},i={};i[t]=!1,this.setState(i),$.ajax({url:this.props.urls.managerUpdate,dataType:"json",type:"POST",data:n,success:function(e){var a={manager:e};a[t]=!0,this.setState(a)}.bind(this),error:function(e,t,n){this.setState({manager:a}),console.error(this.props.urls.managerUpdate,t,n.toString())}.bind(this)})},handlePositionSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.position=e,this.handleManagerInfoSubmit(t,"positionVerified")},handleMeetingTimeSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.meetingTime=e,this.handleManagerInfoSubmit(t,"meetingTimeVerified")},handleMeetingPlaceSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.meetingPlace=e,this.handleManagerInfoSubmit(t,"meetingLocationVerified")},handleEmailSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.email=e,this.handleManagerInfoSubmit(t,"emailVerified")},handleDepartmentInfoSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.departmentInfo=e,this.handleManagerInfoSubmit(t,"departmentInfoVerified")},handlePublicSubmit:function(e){var t=$.extend(!0,{},this.state.manager);t.public=e,this.handleManagerInfoSubmit(t,"publicVerified")},componentDidMount:function(){this.loadDataFromServer()},render:function(){return n.createElement("div",{className:"manager"},n.createElement("h2",null,"Manager Info"),n.createElement(c,{title:"Position",placeholder:"Enter Manager Position",currentValue:this.state.manager.position,onSubmit:this.handlePositionSubmit,verified:this.state.positionVerified}),n.createElement(c,{title:"Meeting Time",placeholder:"Enter Department Meeting Times",currentValue:this.state.manager.meetingTime,onSubmit:this.handleMeetingTimeSubmit,verified:this.state.meetingTimeVerified}),n.createElement(c,{title:"Meeting Location",placeholder:"Enter Department Meeting Location",currentValue:this.state.manager.meetingPlace,onSubmit:this.handleMeetingPlaceSubmit,verified:this.state.meetingLocationVerified}),n.createElement(c,{title:"Email",placeholder:"Enter Department Email",currentValue:this.state.manager.email,onSubmit:this.handleEmailSubmit,verified:this.state.emailVerified}),n.createElement(c,{title:"Department Info",placeholder:"Enter Department Info",currentValue:this.state.manager.departmentInfo,onSubmit:this.handleDepartmentInfoSubmit,verified:this.state.departmentInfoVerified,multiline:!0}),n.createElement(u,{title:"Public",details:"Show my info on Manager's Board",checked:this.state.manager.public,onSelect:this.handlePublicSubmit,verified:this.state.publicVerified}))}}),b=n.createClass({displayName:"ManagerShowsList",getInitialState:function(){return{shows:[]}},loadDataFromServer:function(){$.ajax({url:this.props.urls.allShows,dataType:"json",cache:!1,success:function(e){this.setState({shows:e})}.bind(this),error:function(e,t,a){console.error(this.props.urls.allShows,t,a.toString())}.bind(this)})},componentDidMount:function(){this.loadDataFromServer()},render:function(){return n.createElement("div",{className:"userShowsList"},n.createElement("h4",null,"Shows"),n.createElement(o,{url:this.props.urls.showLink,shows:this.state.shows,placeholder:"/img/radio.png",short:!0}))}}),E="fire",y="Verify",S="Verify user is a Radio DJ",w="Delete DJ account",N=n.createClass({displayName:"AccountsList",loadDataFromServer:function(){$.ajax({url:this.props.urls.listAccounts,dataType:"json",type:"POST",cache:!1,success:function(e){this.setState({accounts:e}),this.updateTableRows()}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},updateUser:function(e,t,a){var n={username:t};$.ajax({url:e,dataType:"json",type:"POST",data:n,success:function(){this.loadDataFromServer()}.bind(this),error:function(e,t,n){this.setState({accounts:a}),this.updateTableRows(),console.error(this.props.showURL,t,n.toString())}.bind(this)})},handleVerifyUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),n=0;n<a.unverified.length;n++)if(a.unverified[n].username==e){a.verified.push(a.unverified[n]),a.unverified.splice(n,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls.verifyAccount,e,t)},handleDeleteUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),n=0;n<a.verified.length;n++)if(a.verified[n].username==e){a.verified.splice(n,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls.delete,e,t)},handleDeleteUnverifiedUser:function(e){for(var t=this.state.accounts,a=$.extend(!0,[],this.state.accounts),n=0;n<a.unverified.length;n++)if(a.unverified[n].username==e){a.unverified.splice(n,1);break}this.setState({accounts:a}),this.updateUser(this.props.urls.deleteUnverified,e,t)},updateTableRows:function(){var e=function(e,t){for(var a=[],n=0;n<e.length;n++){var i={value:e[n].username,actionsDisabled:e[n].manager};i.string1=t?e[n].djName:e[n].fullName,i.string2=t?e[n].fullName:e[n].email,a.push(i)}return a};this.setState({unverifiedRows:e(this.state.accounts.unverified,!1)}),this.setState({verifiedRows:e(this.state.accounts.verified,!0)})},getInitialState:function(){return{accounts:{unverified:[],verified:[]},unverifiedRows:[],verifiedRows:[]}},componentDidMount:function(){this.loadDataFromServer()},render:function(){return n.createElement("div",{className:"accountsList"},this.state.unverifiedRows.length>0?n.createElement(f,{header:"Requested Accounts",bsStyle:"warning"},n.createElement(s,{rows:this.state.unverifiedRows,string1:"Full Name",string2:"Email",acceptTitle:y,rejectTitle:"",acceptTooltip:S,rejectTooltip:w,onAccept:this.handleVerifyUser,onReject:this.handleDeleteUnverifiedUser})):n.createElement("div",null),this.state.verifiedRows.length>0?n.createElement(f,{header:"DJs",bsStyle:"info"},n.createElement(s,{rows:this.state.verifiedRows,string1:"DJ Name",string2:"Full Name",placeholders1:["DJ Hagfish","DJ Bed Bugs","DJ Nickelback"],rejectTitle:"",rejectTooltip:w,onReject:this.handleDeleteUser,glyph:E})):n.createElement("div",null))}});i.render(n.createElement(g,{urls:r}),document.getElementById("content"))},511:function(e,t,a){"use strict";var n=a(1),i=a(239).Image,r=a(512),s=n.createClass({displayName:"RectImage",getDefaultProps:function(){return{aspectRatio:1}},handleResize:function(e){this.setState({windowWidth:window.innerWidth})},render:function(){var e={backgroundImage:"url("+this.props.src+")",width:"100%",height:"100%",backgroundSize:"cover"},t={maxWidth:this.props.maxWidth,margin:"0 auto"};return n.createElement("div",{className:"rectImage"},n.createElement(r,{aspectRatio:this.props.aspectRatio,style:t},n.createElement(i,{style:e,className:"rectImagePic",thumbnail:this.props.thumbnail,responsive:!0,circle:this.props.circle,rounded:this.props.rounded})))}});e.exports=s},512:function(e,t,a){!function(t,n){e.exports=n(a(1))}(this,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=a(1),r=n(i);e.exports=r.default},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAspectRatio=void 0;var s=a(7),l=n(s),o=a(3),c=n(o),u=a(2),p=n(u),d=a(5),h=n(d),m=a(4),f=n(m);t.default=function(e){var t=e.aspectRatio,a=void 0===t?1:t,n=e.children,s=e.style,o=i(e,["aspectRatio","children","style"]),c=g(a);return l.default.createElement("div",r({style:r({position:"relative"},s)},o),l.default.createElement("div",{style:{display:"block",paddingTop:100*c+"%"}}),l.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,top:0,right:0}},n))};var g=function(e){if((0,c.default)(e))return 1/e;if((0,p.default)(e)&&void 0!==e[0]&&void 0!==e[1])return e[1]/e[0];if(void 0!==e.width&&void 0!==e.height)return e.height/e.width;if((0,h.default)(e)){var t=Number.parseFloat(e);if((0,f.default)(t))throw new Error("Cannot parse input string: "+e);return 1/Number.parseFloat(e)}throw new Error("Cannot parse props.aspectRatio: "+e)};t.calculateAspectRatio=g},function(e,t){var a=Array.isArray;e.exports=a},function(e,t,a){(function(e,a){function n(e){return e&&e.Object===Object?e:null}function i(e){return"number"==typeof e&&h(e)}var r={function:!0,object:!0},s=r[typeof t]&&t&&!t.nodeType?t:null,l=r[typeof e]&&e&&!e.nodeType?e:null,o=n(s&&l&&"object"==typeof a&&a),c=n(r[typeof self]&&self),u=n(r[typeof window]&&window),p=n(r[typeof this]&&this),d=o||u!==(p&&p.window)&&u||c||p||Function("return this")(),h=d.isFinite;e.exports=i}).call(t,a(6)(e),function(){return this}())},function(e,t){function a(e){return!!e&&"object"==typeof e}function n(e){return i(e)&&e!=+e}function i(e){return"number"==typeof e||a(e)&&l.call(e)==r}var r="[object Number]",s=Object.prototype,l=s.toString;e.exports=n},function(e,t){function a(e){return!!e&&"object"==typeof e}function n(e){return"string"==typeof e||!l(e)&&a(e)&&s.call(e)==i}var i="[object String]",r=Object.prototype,s=r.toString,l=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(t,a){t.exports=e}])})},514:function(e,t){"use strict";var a={};a.dayFromVar=function(e){switch(e){case"Mon":return"Monday";case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Fri":return"Friday";case"Sat":return"Saturday";case"Sun":return"Sunday";default:return""}},a.availableDays=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a.availableTimes=["12am","1am","2am","3am","4am","5am","6am","7am","8am","9am","10am","11am","12pm","1pm","2pm","3pm","4pm","5pm","6pm","7pm","8pm","9pm","10pm","11pm"],e.exports=a},517:function(e,t,a){"use strict";var n=a(1),i="/panel/api/userlinks",r=a(239).Navbar,s=a(239).Nav,l=a(239).NavItem,o=n.createClass({displayName:"PanelLinksNavbar",getInitialState:function(){return{links:[]}},loadDataFromServer:function(){$.ajax({url:i,dataType:"json",cache:!1,success:function(e){this.setState({links:e.links,loggedin:e.loggedin})}.bind(this),error:function(e,t,a){console.error(i,t,a.toString())}.bind(this)})},styleLink:function(e,t){return t==window.location.pathname?n.createElement("span",{className:"navbarSelected"},e):e},componentDidMount:function(){this.loadDataFromServer()},render:function(){var e=this.styleLink,t=this.state.links.map(function(t,a){return n.createElement(l,{eventKey:a,key:a,href:t.link},e(t.title,t.link))});return n.createElement("div",{className:"panelLinksNavbar"},n.createElement(r,null,n.createElement(r.Header,null,n.createElement(r.Brand,null,n.createElement("a",{href:"/panel/home"},e("Secret DJ Panel","/panel/home"))),n.createElement(r.Toggle,null)),n.createElement(r.Collapse,null,n.createElement(s,null,t),this.state.loggedin?n.createElement(s,{pullRight:!0},n.createElement(l,{id:"navbarLogout",eventKey:1,href:"/panel/logout"},"Log Out")):"")))}});e.exports=o},518:function(e,t,a){"use strict";var n=a(1),i=a(514),r=a(511),s=a(239).Grid,l=a(239).Row,o=a(239).Col,c=a(239).ListGroup,u=a(239).ListGroupItem,p=n.createClass({displayName:"ShowList",render:function(){var e=this.props.url,t=this.props.placeholder,a=this.props.short,p=this.props.shows.map(function(c){var p=n.createElement("h4",{className:"showListTitle"},c.title," ",n.createElement("small",null,"(",i.dayFromVar(c.day)," ",c.time,")"));return n.createElement(u,{href:e+"/"+c.id,key:c.id,className:"listShow"},a?p:n.createElement(s,null,n.createElement(l,null,n.createElement(o,{xs:2,className:"noPads centered"},n.createElement(r,{src:c.picture||t,className:"showListImg rectPic",thumbnail:!0})),n.createElement(o,{xs:10},p,n.createElement("p",{className:"showListSubtitle"},c.blurb)))))});return n.createElement("div",{className:"showList"},n.createElement(c,null,p))}});e.exports=p},519:function(e,t,a){"use strict";var n=a(1),i=a(158),r=a(239).Input,s=a(239).FormControls,l=a(239).Glyphicon,o=n.createClass({displayName:"InputEditableTextField",getInitialState:function(){return{value:"",editable:!1,currentlyEditing:!1}},handleChange:function(e){this.setState({value:e.target.value,currentlyEditing:!1})},toggleEditableField:function(e){this.setState({value:this.props.currentValue,editable:!this.state.editable,currentlyEditing:!0})},handleSubmit:function(e){e.preventDefault();var t=this.state.value.trim();this.props.onSubmit(t),this.setState({value:"",editable:!1})},componentDidUpdate:function(e){this.state.editable&&this.state.currentlyEditing&&!this.props.multiline&&i.findDOMNode(this.refs.input.getInputDOMNode()).select()},render:function(){var e=n.createElement("a",{onClick:this.toggleEditableField},"Edit"),t=n.createElement("span",null,n.createElement("a",{onClick:this.handleSubmit},this.props.buttonTitle||"Update")," | ",n.createElement("a",{className:"cancelLink",onClick:this.toggleEditableField},"Cancel"));return n.createElement("div",{className:"inputEditableTextField"},n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},this.state.editable?n.createElement(r,{type:this.props.multiline?"textarea":"text",value:this.state.value,placeholder:this.props.placeholder,label:this.props.title,ref:"input",groupClassName:"group-class",addonAfter:t,labelClassName:"col-xs-12 col-sm-3",wrapperClassName:"col-xs-12 col-sm-9",onChange:this.handleChange}):n.createElement(s.Static,{label:this.props.title,labelClassName:"col-xs-3",wrapperClassName:"inputEditWrapper col-xs-9",addonAfter:e},this.props.currentValue?n.createElement("span",null,this.props.currentValue," ",this.props.verified?n.createElement(l,{className:"verifiedGlyph",glyph:"ok"}):""):n.createElement("span",{className:"placeholder"},this.props.placeholder))))}});e.exports=o},521:function(e,t,a){"use strict";var n=a(1),i=a(239).Table,r=a(239).Button,s=a(239).ButtonGroup,l=a(239).Glyphicon,o=a(239).OverlayTrigger,c=a(239).Tooltip,u=n.createClass({displayName:"ActionButtons",handleAccept:function(){this.props.onAccept(this.props.value)},handleReject:function(){this.props.onReject(this.props.value)},render:function(){var e=this.props.acceptTitle&&this.props.acceptTooltip&&this.props.onAccept;if(e)var t=n.createElement(c,{id:this.props.acceptTooltip},this.props.acceptTooltip);var a=n.createElement(c,{id:this.props.rejectTooltip},this.props.rejectTooltip);return n.createElement("div",{className:"actionButton"},n.createElement(s,null,e?n.createElement(o,{placement:"top",overlay:t,delayShow:500},n.createElement(r,{className:"table-action1",bsStyle:"link",onClick:this.handleAccept,disabled:this.props.actionsDisabled},n.createElement(l,{glyph:"ok"}),this.props.acceptTitle)):n.createElement("div",null),this.props.children,n.createElement(o,{placement:"top",overlay:a,delayShow:500},n.createElement(r,{className:"table-action2",bsStyle:"link",onClick:this.handleReject,disabled:this.props.actionsDisabled},n.createElement(l,{glyph:"remove"}),this.props.rejectTitle))))}}),p=n.createClass({displayName:"ActionTable",render:function(){var e=this.props.onAccept,t=this.props.glyph,a=this.props.onReject,r=this.props.acceptTitle,s=this.props.rejectTitle,o=this.props.acceptTooltip,c=this.props.rejectTooltip,p=this.props.placeholders1,d=this.props.rows.map(function(i){return n.createElement("tr",{key:i.value},n.createElement("td",null,i.string1||n.createElement("span",{className:"placeholder"},p[Math.floor(Math.random()*p.length)]),i.actionsDisabled?n.createElement("span",{className:"actionGlyph"}," ",n.createElement(l,{glyph:t})):n.createElement("div",null)),n.createElement("td",null,i.string2),n.createElement("td",{className:"action-td"},n.createElement(u,{value:i.value,acceptTitle:r,rejectTitle:s,acceptTooltip:o,rejectTooltip:c,onAccept:e,onReject:a,actionsDisabled:i.actionsDisabled})))});return n.createElement("div",{className:"actionTable"},n.createElement(i,{condensed:!0,hover:!0},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,this.props.string1),n.createElement("th",{colSpan:"2"},this.props.string2))),n.createElement("tbody",null,d)))}});e.exports=p},522:function(e,t,a){"use strict";var n=a(1),i=a(239).Input,r=a(239).Glyphicon,s=n.createClass({displayName:"InputCheckbox",handleChange:function(e){this.props.onSelect(e.target.checked)},render:function(){return n.createElement("form",{className:"inputCheckbox form-horizontal"},n.createElement(i,{label:this.props.title,labelClassName:"col-xs-3",wrapperClassName:"col-xs-9 inputCheckbox"},n.createElement(i,{type:"checkbox",checked:this.props.checked,onChange:this.handleChange,label:n.createElement("span",{className:this.props.checked?"checkboxInner":"placeholder checkboxInner"},this.props.details,this.props.verified?n.createElement(r,{className:"verifiedGlyph",glyph:"ok"}):"")})))}});e.exports=s}});